{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<base href="">
	<title>Proyect - Panel</title>	
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />

	<!-- <link href="{% static 'css/datatables.bundle.css' %}" rel="stylesheet" type="text/css" />
	<link href="{% static 'css/datatables.bundle.rtl.css' %}" rel="stylesheet" type="text/css" /> -->

	
	<link href="{% static 'css/fullcalendar/fullcalendar.bundle.css' %}" rel="stylesheet" type="text/css" />
	<link href="{% static 'css/plugins.bundle.css' %}" rel="stylesheet" type="text/css" />
	<link href="{% static 'css/style.bundle.css' %}" rel="stylesheet" type="text/css" />

	<link href="{% static 'css/galery/gallery.css' %}" rel="stylesheet" type="text/css" />
	<link href="{% static 'css/galery/jquery.fancybox.css' %}" rel="stylesheet" type="text/css" />

	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<meta name="csrf-token" content="{{ csrf_token }}">
	<!--end::Global Stylesheets Bundle-->
</head>
<!--end::Head-->

<!--begin::Body-->
<body id="kt_body" class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed"
	style="--kt-toolbar-height:55px;--kt-toolbar-height-tablet-and-mobile:55px">
	<!--begin::Main-->
	<!--begin::Root-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Page-->
		<div class="page d-flex flex-row flex-column-fluid">
			<!--begin::Wrapper-->
			<div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">

				<!--begin::Header-->
				{% include 'header.html' %}
				<!--end::Header-->

				<!--begin::Content-->
				<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
					<!--begin::Toolbar-->
					<div class="toolbar" id="kt_toolbar">
						<!--begin::Container-->
						<div id="kt_toolbar_container" class="container-xxl d-flex flex-stack">

							<!--begin::Page title (Titulo de la página) -->
							<div data-kt-swapper="true" data-kt-swapper-mode="prepend"
								data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}"
								class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
								<!--begin::Title-->
								<h1 class="d-flex align-items-center text-dark fw-bolder fs-3 my-1">Panel</h1>
								<!--end::Title-->
								<!--begin::Separator-->
								<span class="h-20px border-gray-200 border-start mx-4"></span>
								<!--end::Separator-->
								<!--begin::Breadcrumb-->
								<ul class="breadcrumb breadcrumb-separatorless fw-bold fs-7 my-1">
									<!--begin::Item-->
									<!-- <li class="breadcrumb-item text-muted">
										<a href="#" class="text-muted text-hover-primary">Proyects list</a>
									</li> -->
									<!--end::Item-->
									<!--begin::Item-->
									<!-- <li class="breadcrumb-item">
										<span class="bullet bg-gray-200 w-5px h-2px"></span>
									</li> -->
									<!--end::Item-->
									<!--begin::Item-->
									<!-- <li class="breadcrumb-item text-dark">Only Header</li> -->
									<!--end::Item-->
								</ul>
								<!--end::Breadcrumb-->


								{% if messages %}
									<div class="alert alert-dismissible fade show" role="alert">
										{% for message in messages %}
											<div class="alert alert-{{ message.tags }}">
												{{ message }}
											</div>
										{% endfor %}
									</div>
								{% endif %}


							</div>
							<!--end::Page title-->

							<!--begin::Actions (Búsqueda + Nuevo proyecto)-->
							<div class="d-flex align-items-center py-1">

								<!--begin::Button-->
								<a href="{% url 'proyect_new_url' %}" class="btn btn-sm btn-primary">New Proyect</a>
								<!--end::Button-->
							</div>
							<!--end::Actions-->
						</div>
						<!--end::Container-->
					</div>
					<!--end::Toolbar-->
					<!--begin::Post-->
					<div class="post d-flex flex-column-fluid" id="kt_post">
						
						<!--begin::Container-->
						<div id="kt_content_container" class="container-xxl">

							<!--begin::Row-->
							<div class="row gy-5 g-xl-8">

								<!--begin::Col-->
								<div class="col-xxl-12">
									<!--begin::Tables Widget 5-->
									<div class="card card-xxl-stretch mb-8 mb-xl-12">

										<!--begin::Header-->
										{% if labels.TITLE_PANEL != None %}
										<div class="card-header pt-5">
											<h3 class="card-title align-items-start flex-column">
												<span class="card-label fw-bolder fs-3 mb-1">{{ labels.TITLE_PANEL }}</span>
												{% if labels.SUBTITLE_PANEL != None %}
											<span class="text-muted mt-1 fw-bold fs-7">{{ labels.SUBTITLE_PANEL }}</span>
											{% endif %}
											</h3>
										</div>
										{% endif %}
										<!--end::Header-->

										<!--begin::Body-->
										<div>
											
											<div class="tab-content">
												<!--begin::Form-->
												<form id="formSearch" method="POST">
													{% csrf_token %}
													<!--begin::Card body-->
													<div class="card-body">
														<!--begin::Compact form-->
														<div class="d-flex align-items-center">
															<!--begin::Input group-->
															
															<!--end::Input group-->
															<!--begin:Action-->
															<!-- <div class="d-flex align-items-center">														
																<a id="kt_horizontal_search_advanced_link" class="btn btn-link" data-bs-toggle="collapse" href="#kt_advanced_search_form">Advanced Search</a>
															</div> -->
															<!--end:Action-->
														</div>
														<!--end::Compact form-->
														<!--begin::Advance form-->
														<div class="collapse_" id="kt_advanced_search_form">
																																													
															<div class="row mb-6">
															
																<div class="col-lg-2" style="border:1px solid white; border-width:1px;">
																	<div class="row">       
																		<div class="col-xl-12">
																			<label class="fs-7 form-label fw-bolder text-dark">Date from</label>
																			<div class="position-relative d-flex align-items-center">
																				<!--begin::Svg Icon | path: icons/duotune/general/gen014.svg-->
																				<span class="svg-icon position-absolute ms-4 mb-1 svg-icon-2">
																					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
																						viewBox="0 0 24 24" fill="none">
																						<path opacity="0.3"
																							d="M21 22H3C2.4 22 2 21.6 2 21V5C2 4.4 2.4 4 3 4H21C21.6 4 22 4.4 22 5V21C22 21.6 21.6 22 21 22Z"
																							fill="black" />
																						<path
																							d="M6 6C5.4 6 5 5.6 5 5V3C5 2.4 5.4 2 6 2C6.6 2 7 2.4 7 3V5C7 5.6 6.6 6 6 6ZM11 5V3C11 2.4 10.6 2 10 2C9.4 2 9 2.4 9 3V5C9 5.6 9.4 6 10 6C10.6 6 11 5.6 11 5ZM15 5V3C15 2.4 14.6 2 14 2C13.4 2 13 2.4 13 3V5C13 5.6 13.4 6 14 6C14.6 6 15 5.6 15 5ZM19 5V3C19 2.4 18.6 2 18 2C17.4 2 17 2.4 17 3V5C17 5.6 17.4 6 18 6C18.6 6 19 5.6 19 5Z"
																							fill="black" />
																						<path
																							d="M8.8 13.1C9.2 13.1 9.5 13 9.7 12.8C9.9 12.6 10.1 12.3 10.1 11.9C10.1 11.6 10 11.3 9.8 11.1C9.6 10.9 9.3 10.8 9 10.8C8.8 10.8 8.59999 10.8 8.39999 10.9C8.19999 11 8.1 11.1 8 11.2C7.9 11.3 7.8 11.4 7.7 11.6C7.6 11.8 7.5 11.9 7.5 12.1C7.5 12.2 7.4 12.2 7.3 12.3C7.2 12.4 7.09999 12.4 6.89999 12.4C6.69999 12.4 6.6 12.3 6.5 12.2C6.4 12.1 6.3 11.9 6.3 11.7C6.3 11.5 6.4 11.3 6.5 11.1C6.6 10.9 6.8 10.7 7 10.5C7.2 10.3 7.49999 10.1 7.89999 10C8.29999 9.90003 8.60001 9.80003 9.10001 9.80003C9.50001 9.80003 9.80001 9.90003 10.1 10C10.4 10.1 10.7 10.3 10.9 10.4C11.1 10.5 11.3 10.8 11.4 11.1C11.5 11.4 11.6 11.6 11.6 11.9C11.6 12.3 11.5 12.6 11.3 12.9C11.1 13.2 10.9 13.5 10.6 13.7C10.9 13.9 11.2 14.1 11.4 14.3C11.6 14.5 11.8 14.7 11.9 15C12 15.3 12.1 15.5 12.1 15.8C12.1 16.2 12 16.5 11.9 16.8C11.8 17.1 11.5 17.4 11.3 17.7C11.1 18 10.7 18.2 10.3 18.3C9.9 18.4 9.5 18.5 9 18.5C8.5 18.5 8.1 18.4 7.7 18.2C7.3 18 7 17.8 6.8 17.6C6.6 17.4 6.4 17.1 6.3 16.8C6.2 16.5 6.10001 16.3 6.10001 16.1C6.10001 15.9 6.2 15.7 6.3 15.6C6.4 15.5 6.6 15.4 6.8 15.4C6.9 15.4 7.00001 15.4 7.10001 15.5C7.20001 15.6 7.3 15.6 7.3 15.7C7.5 16.2 7.7 16.6 8 16.9C8.3 17.2 8.6 17.3 9 17.3C9.2 17.3 9.5 17.2 9.7 17.1C9.9 17 10.1 16.8 10.3 16.6C10.5 16.4 10.5 16.1 10.5 15.8C10.5 15.3 10.4 15 10.1 14.7C9.80001 14.4 9.50001 14.3 9.10001 14.3C9.00001 14.3 8.9 14.3 8.7 14.3C8.5 14.3 8.39999 14.3 8.39999 14.3C8.19999 14.3 7.99999 14.2 7.89999 14.1C7.79999 14 7.7 13.8 7.7 13.7C7.7 13.5 7.79999 13.4 7.89999 13.2C7.99999 13 8.2 13 8.5 13H8.8V13.1ZM15.3 17.5V12.2C14.3 13 13.6 13.3 13.3 13.3C13.1 13.3 13 13.2 12.9 13.1C12.8 13 12.7 12.8 12.7 12.6C12.7 12.4 12.8 12.3 12.9 12.2C13 12.1 13.2 12 13.6 11.8C14.1 11.6 14.5 11.3 14.7 11.1C14.9 10.9 15.2 10.6 15.5 10.3C15.8 10 15.9 9.80003 15.9 9.70003C15.9 9.60003 16.1 9.60004 16.3 9.60004C16.5 9.60004 16.7 9.70003 16.8 9.80003C16.9 9.90003 17 10.2 17 10.5V17.2C17 18 16.7 18.4 16.2 18.4C16 18.4 15.8 18.3 15.6 18.2C15.4 18.1 15.3 17.8 15.3 17.5Z"
																							fill="black" />
																					</svg>
																				</span>
																				<!--end::Svg Icon-->
																				<input class="form-control form-control-solid ps-12" name="dateFrom" placeholder="Pick a date" id="dateFrom" value="{{date_from}}"/>
																			</div>
																		</div>
																	</div>
																</div>

																<div class="col-lg-2" style="border:1px solid white; border-width:1px;">
																	<div class="row">
																		<div class="col-xl-12">
																			<label class="fs-7 form-label fw-bolder text-dark">Date until</label>
																			<div class="position-relative d-flex align-items-center">
																				<!--begin::Svg Icon | path: icons/duotune/general/gen014.svg-->
																				<span class="svg-icon position-absolute ms-4 mb-1 svg-icon-2">
																					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
																						viewBox="0 0 24 24" fill="none">
																						<path opacity="0.3"
																							d="M21 22H3C2.4 22 2 21.6 2 21V5C2 4.4 2.4 4 3 4H21C21.6 4 22 4.4 22 5V21C22 21.6 21.6 22 21 22Z"
																							fill="black" />
																						<path
																							d="M6 6C5.4 6 5 5.6 5 5V3C5 2.4 5.4 2 6 2C6.6 2 7 2.4 7 3V5C7 5.6 6.6 6 6 6ZM11 5V3C11 2.4 10.6 2 10 2C9.4 2 9 2.4 9 3V5C9 5.6 9.4 6 10 6C10.6 6 11 5.6 11 5ZM15 5V3C15 2.4 14.6 2 14 2C13.4 2 13 2.4 13 3V5C13 5.6 13.4 6 14 6C14.6 6 15 5.6 15 5ZM19 5V3C19 2.4 18.6 2 18 2C17.4 2 17 2.4 17 3V5C17 5.6 17.4 6 18 6C18.6 6 19 5.6 19 5Z"
																							fill="black" />
																						<path
																							d="M8.8 13.1C9.2 13.1 9.5 13 9.7 12.8C9.9 12.6 10.1 12.3 10.1 11.9C10.1 11.6 10 11.3 9.8 11.1C9.6 10.9 9.3 10.8 9 10.8C8.8 10.8 8.59999 10.8 8.39999 10.9C8.19999 11 8.1 11.1 8 11.2C7.9 11.3 7.8 11.4 7.7 11.6C7.6 11.8 7.5 11.9 7.5 12.1C7.5 12.2 7.4 12.2 7.3 12.3C7.2 12.4 7.09999 12.4 6.89999 12.4C6.69999 12.4 6.6 12.3 6.5 12.2C6.4 12.1 6.3 11.9 6.3 11.7C6.3 11.5 6.4 11.3 6.5 11.1C6.6 10.9 6.8 10.7 7 10.5C7.2 10.3 7.49999 10.1 7.89999 10C8.29999 9.90003 8.60001 9.80003 9.10001 9.80003C9.50001 9.80003 9.80001 9.90003 10.1 10C10.4 10.1 10.7 10.3 10.9 10.4C11.1 10.5 11.3 10.8 11.4 11.1C11.5 11.4 11.6 11.6 11.6 11.9C11.6 12.3 11.5 12.6 11.3 12.9C11.1 13.2 10.9 13.5 10.6 13.7C10.9 13.9 11.2 14.1 11.4 14.3C11.6 14.5 11.8 14.7 11.9 15C12 15.3 12.1 15.5 12.1 15.8C12.1 16.2 12 16.5 11.9 16.8C11.8 17.1 11.5 17.4 11.3 17.7C11.1 18 10.7 18.2 10.3 18.3C9.9 18.4 9.5 18.5 9 18.5C8.5 18.5 8.1 18.4 7.7 18.2C7.3 18 7 17.8 6.8 17.6C6.6 17.4 6.4 17.1 6.3 16.8C6.2 16.5 6.10001 16.3 6.10001 16.1C6.10001 15.9 6.2 15.7 6.3 15.6C6.4 15.5 6.6 15.4 6.8 15.4C6.9 15.4 7.00001 15.4 7.10001 15.5C7.20001 15.6 7.3 15.6 7.3 15.7C7.5 16.2 7.7 16.6 8 16.9C8.3 17.2 8.6 17.3 9 17.3C9.2 17.3 9.5 17.2 9.7 17.1C9.9 17 10.1 16.8 10.3 16.6C10.5 16.4 10.5 16.1 10.5 15.8C10.5 15.3 10.4 15 10.1 14.7C9.80001 14.4 9.50001 14.3 9.10001 14.3C9.00001 14.3 8.9 14.3 8.7 14.3C8.5 14.3 8.39999 14.3 8.39999 14.3C8.19999 14.3 7.99999 14.2 7.89999 14.1C7.79999 14 7.7 13.8 7.7 13.7C7.7 13.5 7.79999 13.4 7.89999 13.2C7.99999 13 8.2 13 8.5 13H8.8V13.1ZM15.3 17.5V12.2C14.3 13 13.6 13.3 13.3 13.3C13.1 13.3 13 13.2 12.9 13.1C12.8 13 12.7 12.8 12.7 12.6C12.7 12.4 12.8 12.3 12.9 12.2C13 12.1 13.2 12 13.6 11.8C14.1 11.6 14.5 11.3 14.7 11.1C14.9 10.9 15.2 10.6 15.5 10.3C15.8 10 15.9 9.80003 15.9 9.70003C15.9 9.60003 16.1 9.60004 16.3 9.60004C16.5 9.60004 16.7 9.70003 16.8 9.80003C16.9 9.90003 17 10.2 17 10.5V17.2C17 18 16.7 18.4 16.2 18.4C16 18.4 15.8 18.3 15.6 18.2C15.4 18.1 15.3 17.8 15.3 17.5Z"
																							fill="black" />
																					</svg>
																				</span>
																				<!--end::Svg Icon-->
																				<input class="form-control form-control-solid ps-12" name="dateUntil" placeholder="Pick a date" id="dateUntil" value="{{date_until}}"/>
																			</div>
																		</div>
																	</div>
																</div>

																<div class="col-lg-4" style="border:1px solid white; border-width:1px;">
																	<div class="row">
																		<div class="col-xl-12">
																			<label class="fs-7 form-label fw-bolder text-dark">{{ labels.LABEL_DECORATOR }}</label>
																			<!--begin::Select-->																			
																			<select class="form-select form-select-solid" data-kt-select2="false" name="decorator" id="selectDecorator">
																				<option value="0"></option>
																				{% for decorator in decorators %}
																				<option value="{{ decorator.id }}" {% if decorator.id == decorator_id  %}selected{% endif %}>{{ decorator.name }}</option>
																				{% endfor %}
																			</select>
																			<!--end::Select-->
																		</div>
																	</div>
																</div>

																<div class="col-lg-2" style="border:1px solid white; border-width:1px;">
																	<div class="row">
																		<div class="col-xl-12">
																			<label class="fs-7 form-label fw-bolder text-dark">{{ labels.LABEL_TYPE }}</label>
																			<!--begin::Select-->
																			<select class="form-select form-select-solid" data-kt-select2="false" name="type" id="selectType">
																				<option value="0"></option>
																				{% for type in types %}
																				<option value="{{ type.id }}" {% if type.id == type_id  %}selected{% endif %}>{{ type.name }}</option>
																				{% endfor %}
																			</select>
																			<!--end::Select-->
																		</div>
																	</div>
																</div>

																<div class="col-lg-2" style="border:1px solid white; border-width:1px;">
																	<div class="row">
																		<div class="col-xl-12">
																			<label class="fs-7 form-label fw-bolder text-dark">{{ labels.LABEL_STATUS }}</label>
																			<!--begin::Select-->
																			<select class="form-select form-select-solid" data-kt-select2="false" name="state" id="selectState">
																				<option value="0"></option>
																				{% for state in states %}
																				<option value="{{ state.id }}" {% if state.id == state_id %}selected{% endif %}>{{ state.name }}</option>
																				{% endfor %}
																			</select>
																			<!--end::Select-->
																		</div>
																	</div>
																</div>

															</div>

															<div class="row">

																<div class="col-lg-8" style="border:1px solid white; border-width:1px;">
																	
																	<div class="position-relative w-md-400px me-md-2">
																		<!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
																		<span class="svg-icon svg-icon-3 svg-icon-gray-500 position-absolute top-50 translate-middle ms-6">
																			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
																				<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black" />
																				<path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black" />
																			</svg>
																		</span>
																		<!--end::Svg Icon-->
																		<input id="globalSearch" type="text" class="form-control form-control-solid ps-10" name="search" value="" placeholder="Filter" />
																	</div>

																</div>

																<div class="col-lg-4 text-end" style="border:1px solid white; border-width:1px;">
																	<button id="reset" type="button" class="btn btn-sm btn-light btn-active-light-primary px-8 py-2 mr-4">Clean</button>
																	<button id="proyectSearch" type="submit" class="btn btn-sm btn-primary px-8 py-2 mr-4">
																		<span class="indicator-label">Search</span>
																		<span class="indicator-progress">Please wait...
																		<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
																	</button>

																</div>


															</div>
															
															<div class="separator separator-dashed mt-9 mb-6"></div>
												
														</div>
														<!--end::Advance form-->
													</div>
													<!--end::Card body-->																			
												</form>
												<!--end::Form-->


												<div class="card card-flush mt-6 mt-xl-1">

													<div id="please_wait_message" style="text-align: center; padding: 20px;">
														<div class="spinner-border text-primary" role="status">
															<span class="sr-only">Loading...</span>
														</div>
														<span class="ml-2">Please wait, loading data...</span>
													</div>


													<!--begin::Card body-->
													<div class="card-body pt-0 page-loading">																											

														<div id="table-responsive" class="table-responsive">

															<!--begin: Datatable-->
															<table class="table table-row-bordered table-flush align-middle gy-6" id="kt_datatable" style="display:none">
																<thead class="border-bottom border-gray-200 fs-7 fw-bolder bg-lighten">
																	<tr>
																		<th style="display:none"></th>																																	
																		<th>{{ labels.LABEL_DECORATOR }}</th>
																		<th class="min-w-25px ps-2">{{ labels.LABEL_ADDRESS }}</th>
																		<th>{{ labels.LABEL_CLIENT }}</th>																		
																		<th>Start date</th>
																		<th>Ant</th>
																		<th>Description</th>
																		<th>Qty WO</th>
																		<th class="max-w-100px">Status</th>																		
																		<th class="min-w-100px text-end">Actions</th>
																		<th style="display:none"></th>
																		
																	</tr>
																</thead>
																<tbody>
																	{% for proyect in proyects_data %}
																	<tr>
																		<td style="display:none">{{ proyect.id }}</td>
																		<td class="text-start text fs-8">{{ proyect.decorators }}</td>														
																		<td><a href="{% url 'view_url' proyect_id=proyect.id %}" class='text-dark fw-bolder text-hover-primary mb-1 fs-7 a_proyectOpen'>{{ proyect.address }}</a>
																			<span class='text fw-bold d-block fs-9'>
																				{% if proyect.city != "" and proyect.city != None %}{{ proyect.city }} {% endif %}
																				{% if proyect.state_u != "" and proyect.state_u != None %}, {{ proyect.state_u }} {% endif %}
																				{% if proyect.zipcode != "" and proyect.zipcode != None %}, {{ proyect.zipcode }} {% endif %}
																				{% if proyect.apartment != "" and proyect.apartment != None %}, {{ proyect.apartment }} {% endif %}
																			</span></td>
																		<td class="text-start text fs-8">{{ proyect.customerName }}</td>
																		
																		<td class="text-start text fs-8">{{ proyect.creationDate }}</td>
																		<td class="text-start text fs-8">{{ proyect.difference }}</td>
																		<td class="text-start text fs-8">{{ proyect.categories }}</td>
																		<td class="text-start text fs-8">{{ proyect.qty_items }}</td>
																		<td class="text-start fs-8">
																			{{ proyect.statesHTML|safe }}																																											
																		</td>
																		<td class='text-center text-end fs-8'>
																			<div class="d-flex justify-content-end flex-shrink-0">
																				<a href="#" data-id1="{{ proyect.id }}" data-id2="{{ state_id }}" class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1 a_proyectView" >
																					<!--begin::Svg Icon | path: icons/duotune/general/gen019.svg-->
																					<span class="svg-icon svg-icon-3" title="View">
																						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="View">
																							<path d="M17.5 11H6.5C4 11 2 9 2 6.5C2 4 4 2 6.5 2H17.5C20 2 22 4 22 6.5C22 9 20 11 17.5 11ZM15 6.5C15 7.9 16.1 9 17.5 9C18.9 9 20 7.9 20 6.5C20 5.1 18.9 4 17.5 4C16.1 4 15 5.1 15 6.5Z" fill="black" />
																							<path opacity="0.3" d="M17.5 22H6.5C4 22 2 20 2 17.5C2 15 4 13 6.5 13H17.5C20 13 22 15 22 17.5C22 20 20 22 17.5 22ZM4 17.5C4 18.9 5.1 20 6.5 20C7.9 20 9 18.9 9 17.5C9 16.1 7.9 15 6.5 15C5.1 15 4 16.1 4 17.5Z" fill="black" />
																						</svg>
																					</span>
																					<!--end::Svg Icon-->
																				</a>
																				<a href="#" data-id2="{{ state_id }}" class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1 a_proyectEdit">
																					<!--begin::Svg Icon | path: icons/duotune/art/art005.svg-->
																					<span class="svg-icon svg-icon-3" title="Edit">
																						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
																							<path opacity="0.3" d="M21.4 8.35303L19.241 10.511L13.485 4.755L15.643 2.59595C16.0248 2.21423 16.5426 1.99988 17.0825 1.99988C17.6224 1.99988 18.1402 2.21423 18.522 2.59595L21.4 5.474C21.7817 5.85581 21.9962 6.37355 21.9962 6.91345C21.9962 7.45335 21.7817 7.97122 21.4 8.35303ZM3.68699 21.932L9.88699 19.865L4.13099 14.109L2.06399 20.309C1.98815 20.5354 1.97703 20.7787 2.03189 21.0111C2.08674 21.2436 2.2054 21.4561 2.37449 21.6248C2.54359 21.7934 2.75641 21.9115 2.989 21.9658C3.22158 22.0201 3.4647 22.0084 3.69099 21.932H3.68699Z" fill="black" />
																							<path d="M5.574 21.3L3.692 21.928C3.46591 22.0032 3.22334 22.0141 2.99144 21.9594C2.75954 21.9046 2.54744 21.7864 2.3789 21.6179C2.21036 21.4495 2.09202 21.2375 2.03711 21.0056C1.9822 20.7737 1.99289 20.5312 2.06799 20.3051L2.696 18.422L5.574 21.3ZM4.13499 14.105L9.891 19.861L19.245 10.507L13.489 4.75098L4.13499 14.105Z" fill="black" />
																						</svg>
																					</span>
																					<!--end::Svg Icon-->
																				</a>
																				<a href="javascript:del_p(this,{{ proyect.id }})" class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm">
																					<!--begin::Svg Icon | path: icons/duotune/general/gen027.svg-->
																					<span class="svg-icon svg-icon-3" title="Delete">
																						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
																							<path d="M5 9C5 8.44772 5.44772 8 6 8H18C18.5523 8 19 8.44772 19 9V18C19 19.6569 17.6569 21 16 21H8C6.34315 21 5 19.6569 5 18V9Z" fill="black" />
																							<path opacity="0.5" d="M5 5C5 4.44772 5.44772 4 6 4H18C18.5523 4 19 4.44772 19 5V5C19 5.55228 18.5523 6 18 6H6C5.44772 6 5 5.55228 5 5V5Z" fill="black" />
																							<path opacity="0.5" d="M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V4H9V4Z" fill="black" />
																						</svg>
																					</span>
																					<!--end::Svg Icon-->
																				</a>
																			</div>
																		</td>
																		<td style="display:none">{{ proyect.materials }}</td>
																	</tr>
																	{% endfor %}														
																															
																</tbody>
															</table>

														</div>

													</div>

												</div>

											</div>
										</div>
										<!--end::Body-->		
									</div>
								</div>

							</div>
							<!--end::Row-->


							<!--begin::Row (Calendario)-->
							<div class="row gy-5 g-xl-8">

								<!--begin::Col-->
								<div class="col-xxl-12">

									<!--begin::Calendar Widget 1-->
									<div class="card card-xxl-stretch">
										<!--begin::Card header-->
										<div class="card-header">
											<h3 class="card-title align-items-start flex-column">
												<span class="card-label fw-bolder text-dark">Calendar</span>
												<span class="text-muted mt-1 fw-bold fs-7">Preview view</span>
											</h3>
											<!-- <div class="card-toolbar">
												<a href="../../sistema/apps/calendar.html"
													class="btn btn-primary">Gestionar calendario</a>
											</div> -->
										</div>
										<!--end::Card header-->
										<!--begin::Card body-->
										<div class="card-body">
											<!--begin::Calendar-->
											<div id="kt_calendar_widget_1">

											</div>

											<br/>
											<br/>
											<!--end::Calendar-->
										</div>
										<!--end::Card body-->
									</div>
									<!--end::Calendar Widget 1-->
								</div>
							</div>
							<!--end::Row-->


							<br />

							<!--begin::Row (Clientes)-->
							<div class="row g-5 g-xxl-8" style="display:none">
								<!--begin::Col-->
								<div class="col-xxl-12">
									<!--begin::Tables Widget 5-->
									<div class="card card-xxl-stretch mb-8 mb-xl-12">
										<!--begin::Header-->
										<div class="card-header border-0 pt-5">
											<h3 class="card-title align-items-start flex-column">
												<span class="card-label fw-bolder fs-3 mb-1">Customers</span>
												<span class="text-muted mt-1 fw-bold fs-7">List</span>
											</h3>
										</div>
										<!--end::Header-->
										<!--begin::Body-->
										<div class="card-body py-3">
											<div class="tab-content">

												<div class="table-responsive">													
													<!--begin::Table-->
													<table class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4" id="tableCustomerProyect">
														<!--begin::Table head-->
														<thead>
															<tr class="fw-bolder text-muted">
																<th class="min-w-50px">Name</th>
																<th class="min-w-150px">Address</th>
																<th class="min-w-150px">Date</th>
																<th class="min-w-50px">Category</th>
																<th class="min-w-50px">State</th>
																<th class="min-w-50px"></th>
															</tr>
														</thead>
														<!--end::Table head-->
														<!--begin::Table body-->
														<tbody>
														</tbody>
														<!--end::Table body-->
													</table>
												</div>

											</div>
										</div>
										<!--end::Body-->
									</div>
									<!--end::Tables Widget 5-->
								</div>
								<!--end::Col-->
							</div>
							<!--end::Row-->

						</div>
						<!--end::Container-->
					</div>
					<!--end::Post-->
				</div>
				<!--end::Content-->
				<!--begin::Footer-->
				{% include 'footer.html' %}
				<!--end::Footer-->
			</div>
			<!--end::Wrapper-->
		</div>
		<!--end::Page-->
	</div>
	<!--end::Root-->
	
	<!--begin::Modal Proyect View-->								
		
		<!--begin::Container-->
		<div class="container-xxl">
			<!--begin::Modal - Select Location-->
			<div class="modal fade " id="modalProyect" tabindex="-1" >
				<!--begin::Modal dialog-->
				<div class="modal-dialog " style="max-width: 90% !important;">
	
					<div class="modal-content">
						<!--begin::Modal header-->
						<div class="modal-header border-0 justify-content-end">					
							<!--begin::Close-->
							<div class="btn btn-icon btn-sm btn-color-gray-500 btn-active-icon-primary" data-bs-toggle="tooltip" title="Close" data-bs-dismiss="modal">
								<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
								<span class="svg-icon svg-icon-1">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
										<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black" />
										<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black" />
									</svg>
								</span>
								<!--end::Svg Icon-->
							</div>
							<!--end::Close-->
						</div>
						<!--end::Modal header-->
						<!--begin::Modal body-->
						<div id="divViewProyect" class="modal-body pt-0 pb-20 px-lg-17">


							
							
						</div>
						<!--end::Modal body-->
					</div>
				</div>
			</div>
		</div>



	
	
	<!--begin::Drawers-->
	<!--begin::Activities drawer (logs de actividades)-->
	<div id="kt_activities" class="bg-body" data-kt-drawer="true" data-kt-drawer-name="activities"
		data-kt-drawer-activate="true" data-kt-drawer-overlay="true"
		data-kt-drawer-width="{default:'300px', 'lg': '900px'}" data-kt-drawer-direction="end"
		data-kt-drawer-toggle="#kt_activities_toggle" data-kt-drawer-close="#kt_activities_close">
		<div class="card shadow-none rounded-0">
			<!--begin::Header-->
			<div class="card-header" id="kt_activities_header">
				<h3 class="card-title fw-bolder text-dark">Registro de actividades</h3>
				<div class="card-toolbar">
					<button type="button" class="btn btn-sm btn-icon btn-active-light-primary me-n5"
						id="kt_activities_close">
						<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
						<span class="svg-icon svg-icon-1">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
								fill="none">
								<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
									transform="rotate(-45 6 17.3137)" fill="black" />
								<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
									fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
					</button>
				</div>
			</div>
			<!--end::Header-->
			<!--begin::Body-->
			<div class="card-body position-relative" id="kt_activities_body">
				<!--begin::Content-->
				<div id="kt_activities_scroll" class="position-relative scroll-y me-n5 pe-5" data-kt-scroll="true"
					data-kt-scroll-height="auto" data-kt-scroll-wrappers="#kt_activities_body"
					data-kt-scroll-dependencies="#kt_activities_header, #kt_activities_footer"
					data-kt-scroll-offset="5px">
					<!--begin::Timeline items-->
					<div class="timeline">
						<!--begin::Timeline item-->
						<div class="timeline-item">
							<!--begin::Timeline line-->
							<div class="timeline-line w-40px"></div>
							<!--end::Timeline line-->
							<!--begin::Timeline icon-->
							<div class="timeline-icon symbol symbol-circle symbol-40px me-4">
								<div class="symbol-label bg-light">
									<!--begin::Svg Icon | path: icons/duotune/communication/com003.svg-->
									<span class="svg-icon svg-icon-2 svg-icon-gray-500">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none">
											<path opacity="0.3"
												d="M2 4V16C2 16.6 2.4 17 3 17H13L16.6 20.6C17.1 21.1 18 20.8 18 20V17H21C21.6 17 22 16.6 22 16V4C22 3.4 21.6 3 21 3H3C2.4 3 2 3.4 2 4Z"
												fill="black" />
											<path
												d="M18 9H6C5.4 9 5 8.6 5 8C5 7.4 5.4 7 6 7H18C18.6 7 19 7.4 19 8C19 8.6 18.6 9 18 9ZM16 12C16 11.4 15.6 11 15 11H6C5.4 11 5 11.4 5 12C5 12.6 5.4 13 6 13H15C15.6 13 16 12.6 16 12Z"
												fill="black" />
										</svg>
									</span>
									<!--end::Svg Icon-->
								</div>
							</div>
							<!--end::Timeline icon-->
							<!--begin::Timeline content-->
							<div class="timeline-content mb-10 mt-n1">
								<!--begin::Timeline heading-->
								<div class="pe-3 mb-5">
									<!--begin::Title-->
									<div class="fs-5 fw-bold mb-2">Hay 2 nuevas tareas para el proyecto: Muñoz Gamero
										123, Belloto, Quilpué
										(<a href="#" class="text-primary fw-bolder me-1">#45789</a>)</div>
									<!--end::Title-->
									<!--begin::Description-->
									<div class="d-flex align-items-center mt-1 fs-6">
										<!--begin::Info-->
										<div class="text-muted me-2 fs-7">Agregado a las 4:23 PM por</div>
										<!--end::Info-->
										<!--begin::User-->
										<div class="symbol symbol-circle symbol-25px" data-bs-toggle="tooltip"
											data-bs-boundary="window" data-bs-placement="top" title="Nina Cruz">
											<a href="#" class="text-primary fw-bolder me-1">cruzcpaty@gmail.com</a>
										</div>
										<!--end::User-->
									</div>
									<!--end::Description-->
								</div>
								<!--end::Timeline heading-->

							</div>
							<!--end::Timeline content-->
						</div>
						<!--end::Timeline item-->
						<!--begin::Timeline item-->
						<div class="timeline-item">
							<!--begin::Timeline line-->
							<div class="timeline-line w-40px"></div>
							<!--end::Timeline line-->
							<!--begin::Timeline icon-->
							<div class="timeline-icon symbol symbol-circle symbol-40px">
								<div class="symbol-label bg-light">
									<!--begin::Svg Icon | path: icons/duotune/communication/com009.svg-->
									<span class="svg-icon svg-icon-2 svg-icon-gray-500">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none">
											<path opacity="0.3"
												d="M5.78001 21.115L3.28001 21.949C3.10897 22.0059 2.92548 22.0141 2.75004 21.9727C2.57461 21.9312 2.41416 21.8418 2.28669 21.7144C2.15923 21.5869 2.06975 21.4264 2.0283 21.251C1.98685 21.0755 1.99507 20.892 2.05201 20.7209L2.886 18.2209L7.22801 13.879L10.128 16.774L5.78001 21.115Z"
												fill="black" />
											<path
												d="M21.7 8.08899L15.911 2.30005C15.8161 2.2049 15.7033 2.12939 15.5792 2.07788C15.455 2.02637 15.3219 1.99988 15.1875 1.99988C15.0531 1.99988 14.92 2.02637 14.7958 2.07788C14.6717 2.12939 14.5589 2.2049 14.464 2.30005L13.74 3.02295C13.548 3.21498 13.4402 3.4754 13.4402 3.74695C13.4402 4.01849 13.548 4.27892 13.74 4.47095L14.464 5.19397L11.303 8.35498C10.1615 7.80702 8.87825 7.62639 7.62985 7.83789C6.38145 8.04939 5.2293 8.64265 4.332 9.53601C4.14026 9.72817 4.03256 9.98855 4.03256 10.26C4.03256 10.5315 4.14026 10.7918 4.332 10.984L13.016 19.667C13.208 19.859 13.4684 19.9668 13.74 19.9668C14.0115 19.9668 14.272 19.859 14.464 19.667C15.3575 18.77 15.9509 17.618 16.1624 16.3698C16.374 15.1215 16.1932 13.8383 15.645 12.697L18.806 9.53601L19.529 10.26C19.721 10.452 19.9814 10.5598 20.253 10.5598C20.5245 10.5598 20.785 10.452 20.977 10.26L21.7 9.53601C21.7952 9.44108 21.8706 9.32825 21.9221 9.2041C21.9737 9.07995 22.0002 8.94691 22.0002 8.8125C22.0002 8.67809 21.9737 8.54505 21.9221 8.4209C21.8706 8.29675 21.7952 8.18392 21.7 8.08899Z"
												fill="black" />
										</svg>
									</span>
									<!--end::Svg Icon-->
								</div>
							</div>
							<!--end::Timeline icon-->
							<!--begin::Timeline content-->
							<div class="timeline-content mb-10 mt-n2">
								<!--begin::Timeline heading-->
								<div class="overflow-auto pe-3">
									<!--begin::Title-->
									<div class="fs-5 fw-bold mb-2">Se ha agendado una nueva visita. Proyecto: Andacollo
										124, Viña del Mar
										(<a href="#" class="text-primary fw-bolder me-1">#67945</a>)</div>
									<!--end::Title-->
									<!--begin::Description-->
									<div class="d-flex align-items-center mt-1 fs-6">
										<!--begin::Info-->
										<div class="text-muted me-2 fs-7">Enviado a las 6:40 PM por</div>
										<!--end::Info-->
										<!--begin::User-->
										<div class="symbol symbol-circle symbol-25px" data-bs-toggle="tooltip"
											data-bs-boundary="window" data-bs-placement="top" title="Christian Cruz">
											<a href="#" class="text-primary fw-bolder me-1">ccruz@gmail.com</a>
										</div>
										<!--end::User-->
									</div>
									<!--end::Description-->
								</div>
								<!--end::Timeline heading-->
							</div>
							<!--end::Timeline content-->
						</div>
						<!--end::Timeline item-->
						<!--begin::Timeline item-->
						<div class="timeline-item">
							<!--begin::Timeline line-->
							<div class="timeline-line w-40px"></div>
							<!--end::Timeline line-->
							<!--begin::Timeline icon-->
							<div class="timeline-icon symbol symbol-circle symbol-40px">
								<div class="symbol-label bg-light">
									<!--begin::Svg Icon | path: icons/duotune/coding/cod008.svg-->
									<span class="svg-icon svg-icon-2 svg-icon-gray-500">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none">
											<path
												d="M11.2166 8.50002L10.5166 7.80007C10.1166 7.40007 10.1166 6.80005 10.5166 6.40005L13.4166 3.50002C15.5166 1.40002 18.9166 1.50005 20.8166 3.90005C22.5166 5.90005 22.2166 8.90007 20.3166 10.8001L17.5166 13.6C17.1166 14 16.5166 14 16.1166 13.6L15.4166 12.9C15.0166 12.5 15.0166 11.9 15.4166 11.5L18.3166 8.6C19.2166 7.7 19.1166 6.30002 18.0166 5.50002C17.2166 4.90002 16.0166 5.10007 15.3166 5.80007L12.4166 8.69997C12.2166 8.89997 11.6166 8.90002 11.2166 8.50002ZM11.2166 15.6L8.51659 18.3001C7.81659 19.0001 6.71658 19.2 5.81658 18.6C4.81658 17.9 4.71659 16.4 5.51659 15.5L8.31658 12.7C8.71658 12.3 8.71658 11.7001 8.31658 11.3001L7.6166 10.6C7.2166 10.2 6.6166 10.2 6.2166 10.6L3.6166 13.2C1.7166 15.1 1.4166 18.1 3.1166 20.1C5.0166 22.4 8.51659 22.5 10.5166 20.5L13.3166 17.7C13.7166 17.3 13.7166 16.7001 13.3166 16.3001L12.6166 15.6C12.3166 15.2 11.6166 15.2 11.2166 15.6Z"
												fill="black" />
											<path opacity="0.3"
												d="M5.0166 9L2.81659 8.40002C2.31659 8.30002 2.0166 7.79995 2.1166 7.19995L2.31659 5.90002C2.41659 5.20002 3.21659 4.89995 3.81659 5.19995L6.0166 6.40002C6.4166 6.60002 6.6166 7.09998 6.5166 7.59998L6.31659 8.30005C6.11659 8.80005 5.5166 9.1 5.0166 9ZM8.41659 5.69995H8.6166C9.1166 5.69995 9.5166 5.30005 9.5166 4.80005L9.6166 3.09998C9.6166 2.49998 9.2166 2 8.5166 2H7.81659C7.21659 2 6.71659 2.59995 6.91659 3.19995L7.31659 4.90002C7.41659 5.40002 7.91659 5.69995 8.41659 5.69995ZM14.6166 18.2L15.1166 21.3C15.2166 21.8 15.7166 22.2 16.2166 22L17.6166 21.6C18.1166 21.4 18.4166 20.8 18.1166 20.3L16.7166 17.5C16.5166 17.1 16.1166 16.9 15.7166 17L15.2166 17.1C14.8166 17.3 14.5166 17.7 14.6166 18.2ZM18.4166 16.3L19.8166 17.2C20.2166 17.5 20.8166 17.3 21.0166 16.8L21.3166 15.9C21.5166 15.4 21.1166 14.8 20.5166 14.8H18.8166C18.0166 14.8 17.7166 15.9 18.4166 16.3Z"
												fill="black" />
										</svg>
									</span>
									<!--end::Svg Icon-->
								</div>
							</div>
							<!--end::Timeline icon-->
							<!--begin::Timeline content-->
							<div class="timeline-content mb-10 mt-n1">
								<!--begin::Timeline heading-->
								<div class="mb-5 pe-3">
									<!--begin::Title-->
									<div class="fs-5 fw-bold mb-2">Se ha agregado nuevos archivos al proyecto: Muñoz
										Gamero 123, Belloto, Quilpué
										(<a href="#" class="text-primary fw-bolder me-1">#45789</a>)</div>
									<!--end::Title-->
									<!--begin::Description-->
									<div class="d-flex align-items-center mt-1 fs-6">
										<!--begin::Info-->
										<div class="text-muted me-2 fs-7">Enviado a las 10:30 PM por</div>
										<!--end::Info-->
										<!--begin::User-->
										<div class="symbol symbol-circle symbol-25px" data-bs-toggle="tooltip"
											data-bs-boundary="window" data-bs-placement="top" title="Nina Cruz">
											<a href="#" class="text-primary fw-bolder me-1">cruzcpaty@gmail.com</a>
										</div>
										<!--end::User-->
									</div>
									<!--end::Description-->
								</div>
								<!--end::Timeline heading-->
								<!--begin::Timeline details-->
								<div class="overflow-auto pb-5">
									<div
										class="d-flex align-items-center border border-dashed border-gray-300 rounded min-w-700px p-5">
										<!--begin::Item-->
										<div class="d-flex flex-aligns-center pe-10 pe-lg-20">
											<!--begin::Icon-->
											<img alt="" class="w-30px me-3"
												src="{% static 'proyect/images/svg/files/pdf.svg' %}" />
											<!--end::Icon-->
											<!--begin::Info-->
											<div class="ms-1 fw-bold">
												<!--begin::Desc-->
												<a href="#" class="fs-6 text-hover-primary fw-bolder">IMG 1</a>
												<!--end::Desc-->
												<!--begin::Number-->
												<div class="text-gray-400">1.9mb</div>
												<!--end::Number-->
											</div>
											<!--begin::Info-->
										</div>
										<!--end::Item-->
										<!--begin::Item-->
										<div class="d-flex flex-aligns-center pe-10 pe-lg-20">
											<!--begin::Icon-->
											<img alt="" class="w-30px me-3"
												src="{% static 'proyect/images/svg/files/doc.svg' %}" />
											<!--end::Icon-->
											<!--begin::Info-->
											<div class="ms-1 fw-bold">
												<!--begin::Desc-->
												<a href="#" class="fs-6 text-hover-primary fw-bolder">IMG 2</a>
												<!--end::Desc-->
												<!--begin::Number-->
												<div class="text-gray-400">18kb</div>
												<!--end::Number-->
											</div>
											<!--end::Info-->
										</div>
										<!--end::Item-->
										<!--begin::Item-->
										<div class="d-flex flex-aligns-center">
											<!--begin::Icon-->
											<img alt="" class="w-30px me-3"
												src="{% static 'proyect/images/svg/files/css.svg' %}" />
											<!--end::Icon-->
											<!--begin::Info-->
											<div class="ms-1 fw-bold">
												<!--begin::Desc-->
												<a href="#" class="fs-6 text-hover-primary fw-bolder">IMG 3</a>
												<!--end::Desc-->
												<!--begin::Number-->
												<div class="text-gray-400">20mb</div>
												<!--end::Number-->
											</div>
											<!--end::Icon-->
										</div>
										<!--end::Item-->
									</div>
								</div>
								<!--end::Timeline details-->
							</div>
							<!--end::Timeline content-->
						</div>
						<!--end::Timeline item-->

						<!--begin::Timeline item-->
						<div class="timeline-item">
							<!--begin::Timeline line-->
							<div class="timeline-line w-40px"></div>
							<!--end::Timeline line-->
							<!--begin::Timeline icon-->
							<div class="timeline-icon symbol symbol-circle symbol-40px">
								<div class="symbol-label bg-light">
									<!--begin::Svg Icon | path: icons/duotune/art/art005.svg-->
									<span class="svg-icon svg-icon-2 svg-icon-gray-500">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none">
											<path opacity="0.3"
												d="M21.4 8.35303L19.241 10.511L13.485 4.755L15.643 2.59595C16.0248 2.21423 16.5426 1.99988 17.0825 1.99988C17.6224 1.99988 18.1402 2.21423 18.522 2.59595L21.4 5.474C21.7817 5.85581 21.9962 6.37355 21.9962 6.91345C21.9962 7.45335 21.7817 7.97122 21.4 8.35303ZM3.68699 21.932L9.88699 19.865L4.13099 14.109L2.06399 20.309C1.98815 20.5354 1.97703 20.7787 2.03189 21.0111C2.08674 21.2436 2.2054 21.4561 2.37449 21.6248C2.54359 21.7934 2.75641 21.9115 2.989 21.9658C3.22158 22.0201 3.4647 22.0084 3.69099 21.932H3.68699Z"
												fill="black" />
											<path
												d="M5.574 21.3L3.692 21.928C3.46591 22.0032 3.22334 22.0141 2.99144 21.9594C2.75954 21.9046 2.54744 21.7864 2.3789 21.6179C2.21036 21.4495 2.09202 21.2375 2.03711 21.0056C1.9822 20.7737 1.99289 20.5312 2.06799 20.3051L2.696 18.422L5.574 21.3ZM4.13499 14.105L9.891 19.861L19.245 10.507L13.489 4.75098L4.13499 14.105Z"
												fill="black" />
										</svg>
									</span>
									<!--end::Svg Icon-->
								</div>
							</div>
							<!--end::Timeline icon-->
							<!--begin::Timeline content-->
							<div class="timeline-content mb-10 mt-n1">
								<!--begin::Timeline heading-->
								<div class="pe-3 mb-5">
									<!--begin::Title-->
									<div class="fs-5 fw-bold mb-2">Se ha creado un nuevo proyecto:</div>
									<!--end::Title-->
									<!--begin::Description-->
									<div class="d-flex align-items-center mt-1 fs-6">
										<!--begin::Info-->
										<div class="text-muted me-2 fs-7">Generado a las 5:05 AM por</div>
										<!--end::Info-->
										<!--begin::User-->
										<div class="symbol symbol-circle symbol-25px" data-bs-toggle="tooltip"
											data-bs-boundary="window" data-bs-placement="top" title="Christian Cruz">
											<a href="#" class="text-primary fw-bolder me-1">ccruz@gmail.com</a>
										</div>
										<!--end::User-->
									</div>
									<!--end::Description-->
								</div>
								<!--end::Timeline heading-->
								<!--begin::Timeline details-->
								<div class="overflow-auto pb-5">
									<!--begin::Notice-->
									<div
										class="notice d-flex bg-light-primary rounded border-primary border border-dashed min-w-lg-600px flex-shrink-0 p-6">
										<!--begin::Icon-->
										<!--begin::Svg Icon | path: icons/duotune/coding/cod004.svg-->
										<span class="svg-icon svg-icon-2tx svg-icon-primary me-4">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
												viewBox="0 0 24 24" fill="none">
												<path opacity="0.3"
													d="M19.0687 17.9688H11.0687C10.4687 17.9688 10.0687 18.3687 10.0687 18.9688V19.9688C10.0687 20.5687 10.4687 20.9688 11.0687 20.9688H19.0687C19.6687 20.9688 20.0687 20.5687 20.0687 19.9688V18.9688C20.0687 18.3687 19.6687 17.9688 19.0687 17.9688Z"
													fill="black" />
												<path
													d="M4.06875 17.9688C3.86875 17.9688 3.66874 17.8688 3.46874 17.7688C2.96874 17.4688 2.86875 16.8688 3.16875 16.3688L6.76874 10.9688L3.16875 5.56876C2.86875 5.06876 2.96874 4.46873 3.46874 4.16873C3.96874 3.86873 4.56875 3.96878 4.86875 4.46878L8.86875 10.4688C9.06875 10.7688 9.06875 11.2688 8.86875 11.5688L4.86875 17.5688C4.66875 17.7688 4.36875 17.9688 4.06875 17.9688Z"
													fill="black" />
											</svg>
										</span>
										<!--end::Svg Icon-->
										<!--end::Icon-->
										<!--begin::Wrapper-->
										<div class="d-flex flex-stack flex-grow-1 flex-wrap flex-md-nowrap">
											<!--begin::Content-->
											<div class="mb-3 mb-md-0 fw-bold">
												<h4 class="text-gray-900 fw-bolder">Nueva propuesta
												</h4>
												<div class="fs-6 text-gray-700 pe-7">Dirección, nombre cliente, etc
												</div>
											</div>
											<!--end::Content-->
											<!--begin::Action-->
											<a href="#"
												class="btn btn-primary px-6 align-self-center text-nowrap">Descargar
												PDF</a>
											<!--end::Action-->
										</div>
										<!--end::Wrapper-->
									</div>
									<!--end::Notice-->
								</div>
								<!--end::Timeline details-->
							</div>
							<!--end::Timeline content-->
						</div>
						<!--end::Timeline item-->

					</div>
					<!--end::Timeline items-->
				</div>
				<!--end::Content-->
			</div>
			<!--end::Body-->
			<!--begin::Footer-->
			<div class="card-footer py-5 text-center" id="kt_activities_footer">
				<a href="#" class="btn btn-bg-body text-primary">Ver todas las actividades
					<!--begin::Svg Icon | path: icons/duotune/arrows/arr064.svg-->
					<span class="svg-icon svg-icon-3 svg-icon-primary">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
							<rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1"
								transform="rotate(-180 18 13)" fill="black" />
							<path
								d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z"
								fill="black" />
						</svg>
					</span>
					<!--end::Svg Icon--></a>
			</div>
			<!--end::Footer-->
		</div>
	</div>
	<!--end::Activities drawer-->


	<!--begin::Scrolltop-->
	<div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
		<!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
		<span class="svg-icon">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
				<rect opacity="0.5" x="13" y="6" width="13" height="2" rx="1" transform="rotate(90 13 6)"
					fill="black" />
				<path
					d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z"
					fill="black" />
			</svg>
		</span>
		<!--end::Svg Icon-->
	</div>
	<!--end::Scrolltop-->
	<!--end::Main-->
	<!--<script>var hostUrl = "assets/";</script>-->
	<!--begin::Javascript-->
	<!--begin::Global Javascript Bundle(used by all pages)-->


	<div id="tooltip" class="popover fade show bs-popover-end" role="tooltip" style="display: none; position: absolute; inset: 0px auto auto 0px; margin: 0px; z-index: 9999;">		
		
		<h3 class="popover-header">Event Summary</h3>
		<div class="popover-body">
			<div class="fw-bolder mb-2"><span id="tooltipTitle"></span></div>
			<div class="fs-7"><span class="fw-bold">Date: </span><span id="tooltipDate"></span></div>
			<div class="fs-7 mb-4"><span class="fw-bold">Customer: </span> <span id="tooltipDescription"></span></div>			
		</div>
	</div>

	<!--begin::Modal - New Product-->
	<div class="modal fade" id="kt_modal_view_event" tabindex="-1" aria-hidden="true">
		<!--begin::Modal dialog-->
		<div class="modal-dialog modal-dialog-centered mw-650px">
			<!--begin::Modal content-->
			<div class="modal-content">
				<!--begin::Modal header-->
				<div class="modal-header border-0 justify-content-end">
					<!--begin::Edit-->
					<div class="btn btn-icon btn-sm btn-color-gray-400 btn-active-icon-primary me-2" data-bs-toggle="tooltip" data-bs-dismiss="click" title="Edit proyect" id="kt_modal_view_event_edit">
						<!--begin::Svg Icon | path: icons/duotune/art/art005.svg-->
						<span class="svg-icon svg-icon-2">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path opacity="0.3" d="M21.4 8.35303L19.241 10.511L13.485 4.755L15.643 2.59595C16.0248 2.21423 16.5426 1.99988 17.0825 1.99988C17.6224 1.99988 18.1402 2.21423 18.522 2.59595L21.4 5.474C21.7817 5.85581 21.9962 6.37355 21.9962 6.91345C21.9962 7.45335 21.7817 7.97122 21.4 8.35303ZM3.68699 21.932L9.88699 19.865L4.13099 14.109L2.06399 20.309C1.98815 20.5354 1.97703 20.7787 2.03189 21.0111C2.08674 21.2436 2.2054 21.4561 2.37449 21.6248C2.54359 21.7934 2.75641 21.9115 2.989 21.9658C3.22158 22.0201 3.4647 22.0084 3.69099 21.932H3.68699Z" fill="black" />
								<path d="M5.574 21.3L3.692 21.928C3.46591 22.0032 3.22334 22.0141 2.99144 21.9594C2.75954 21.9046 2.54744 21.7864 2.3789 21.6179C2.21036 21.4495 2.09202 21.2375 2.03711 21.0056C1.9822 20.7737 1.99289 20.5312 2.06799 20.3051L2.696 18.422L5.574 21.3ZM4.13499 14.105L9.891 19.861L19.245 10.507L13.489 4.75098L4.13499 14.105Z" fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
					</div>
					<!--end::Edit-->
					<!--begin::Edit-->
					<!-- <div class="btn btn-icon btn-sm btn-color-gray-400 btn-active-icon-danger me-2" data-bs-toggle="tooltip" data-bs-dismiss="click" title="Delete Event" id="kt_modal_view_event_delete">						
						<span class="svg-icon svg-icon-2">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path d="M5 9C5 8.44772 5.44772 8 6 8H18C18.5523 8 19 8.44772 19 9V18C19 19.6569 17.6569 21 16 21H8C6.34315 21 5 19.6569 5 18V9Z" fill="black" />
								<path opacity="0.5" d="M5 5C5 4.44772 5.44772 4 6 4H18C18.5523 4 19 4.44772 19 5V5C19 5.55228 18.5523 6 18 6H6C5.44772 6 5 5.55228 5 5V5Z" fill="black" />
								<path opacity="0.5" d="M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V4H9V4Z" fill="black" />
							</svg>
						</span>
					</div> -->
					<!--end::Edit-->
					<!--begin::Close-->
					<div class="btn btn-icon btn-sm btn-color-gray-500 btn-active-icon-primary" data-bs-toggle="tooltip" title="Hide Event" data-bs-dismiss="modal">
						<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
						<span class="svg-icon svg-icon-1">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black" />
								<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
					</div>
					<!--end::Close-->
				</div>
				<!--end::Modal header-->
				<!--begin::Modal body-->
				<div class="modal-body pt-0 pb-20 px-lg-17">
					<!--begin::Row-->
					<div class="d-flex">
						<!--begin::Icon-->
						<!--begin::Svg Icon | path: icons/duotune/general/gen014.svg-->						
						<span class="svg-icon svg-icon-1 svg-icon-muted me-5">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path opacity="0.3" d="M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z" fill="black" />
								<path d="M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z" fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
						<!--end::Icon-->
						<div class="mb-9">
							<!--begin::Event name-->
							<div class="d-flex align-items-center mb-2">
								<span class="fs-3 fw-bolder me-3" data-kt-calendar="event_name"><span id="tooltipTitleMd"></span></span>
								<span class="badge badge-light-success" data-kt-calendar="all_day"></span>
							</div>
							<!--end::Event name-->
							<!--begin::Event description-->
							<div class="fs-6" data-kt-calendar="event_description"><span id="tooltipDescriptionMd"></span></div>
							<!--end::Event description-->
						</div>
					</div>
					<!--end::Row-->
					<!--begin::Row-->
					<div class="d-flex align-items-center mb-2">
						<!--begin::Icon-->
						<!--begin::Svg Icon | path: icons/duotune/abstract/abs050.svg-->
						<span class="svg-icon svg-icon-1 svg-icon-success me-5">
							<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
								<circle fill="#000000" cx="12" cy="12" r="8" />
							</svg>
						</span>
						<!--end::Svg Icon-->
						<!--end::Icon-->
						<!--begin::Event start date/time-->
						<div class="fs-6">
							<span class="fw-bolder">Date: </span>
							<span data-kt-calendar="event_start_date"><span id="tooltipDateMd"></span></span>
						</div>
						<!--end::Event start date/time-->
					</div>
					<!--end::Row-->
					<input id="id1" name="id1" type="hidden" value="" readonly/>
					<input id="id2" name="id2" type="hidden" value="" readonly/>
					<!--begin::Row-->
					<div id="saveItemComment">
										
					</div>
					<!--end::Row-->
				</div>
				<!--end::Modal body-->
			</div>
		</div>
	</div>
	<!--end::Modal - New Product-->
	

	<script>var KTAppSettings = { "breakpoints": { "sm": 576, "md": 768, "lg": 992, "xl": 1200, "xxl": 1400 }, "colors": { "theme": { "base": { "white": "#ffffff", "primary": "#3699FF", "secondary": "#E5EAEE", "success": "#1BC5BD", "info": "#8950FC", "warning": "#FFA800", "danger": "#F64E60", "light": "#E4E6EF", "dark": "#181C32" }, "light": { "white": "#ffffff", "primary": "#E1F0FF", "secondary": "#EBEDF3", "success": "#C9F7F5", "info": "#EEE5FF", "warning": "#FFF4DE", "danger": "#FFE2E5", "light": "#F3F6F9", "dark": "#D6D6E0" }, "inverse": { "white": "#ffffff", "primary": "#ffffff", "secondary": "#3F4254", "success": "#ffffff", "info": "#ffffff", "warning": "#ffffff", "danger": "#ffffff", "light": "#464E5F", "dark": "#ffffff" } }, "gray": { "gray-100": "#F3F6F9", "gray-200": "#EBEDF3", "gray-300": "#E4E6EF", "gray-400": "#D1D3E0", "gray-500": "#B5B5C3", "gray-600": "#7E8299", "gray-700": "#5E6278", "gray-800": "#3F4254", "gray-900": "#181C32" } }, "font-family": "Poppins" };</script>

	<script src="{% static 'js/jquery.min.js' %}"></script>

	<script src="{% static 'js/plugins.bundle.js' %}"></script>
	<script src="{% static 'js/scripts.bundle.js' %}"></script>
	<!-- <script src="{% static 'proyect/js/widgets.js' %}"></script> -->
	<script src="{% static 'js/fullcalendar/fullcalendar.bundle.js' %}"></script>
	<script src="{% static 'js/datatable/datatables.bundle.js' %}"></script>

	<script src="{% static 'js/galery/jquery.fancybox.js' %}"></script>
	<script src="{% static 'js/galery/gallery.js' %}"></script>

	<script src="{% static 'js/galery/masonry.pkgd.min.js' %}"></script>


	<script>

		function loadCalendar() {

			if ("undefined" != typeof FullCalendar && document.querySelector("#kt_calendar_widget_1")) {
			
				var e = moment().startOf("day"),
				t = e.format("YYYY-MM"),
				a = e.clone().subtract(1, "day").format("YYYY-MM-DD"),
				o = e.format("YYYY-MM-DD"),
				s = e.clone().add(1, "day").format("YYYY-MM-DD"), 
				r = document.getElementById("kt_calendar_widget_1");
	
				var calendar = new FullCalendar.Calendar(r, {
					headerToolbar: {
						left: "prev,next today",
						center: "title",
						right: "dayGridMonth,timeGridWeek,timeGridDay,listMonth"
					},
					height: 800,
					contentHeight: 780,
					aspectRatio: 3,
					nowIndicator: !0,
					//now: o + "T09:25:00",
					views: {
						dayGridMonth: { buttonText: "month" },
						timeGridWeek: { buttonText: "week" },
						timeGridDay: { buttonText: "day" }
					},
					initialView: "dayGridMonth",
					initialDate: o,
					editable: true,
					dayMaxEvents: true,
					navLinks: true,
					 // Evento al pasar el ratón sobre el evento
					// Usamos el `eventDidMount` para agregar eventos de mouse sobre un evento
					eventDidMount: function(info) {
						// Detectar el mouseover y mouseout
						var eventEl = info.el; // El elemento DOM del evento

						// Mostrar el tooltip cuando el ratón pasa sobre el evento
						eventEl.addEventListener('mouseenter', function(jsEvent) {
							var tooltip = document.getElementById('tooltip');
							tooltip.style.display = 'block';
							document.getElementById('tooltipTitle').textContent = info.event.title;
							document.getElementById('tooltipDescription').textContent = info.event.extendedProps.description;

							var eventDate = info.event.start;
							var formattedDate = moment(eventDate).format('MMMM D, YYYY [at] h:mm A'); 

							document.getElementById('tooltipDate').textContent = formattedDate;							
							// Posicionar el tooltip cerca del ratón
							tooltip.style.top = jsEvent.pageY + 10 + 'px';
							tooltip.style.left = jsEvent.pageX + 10 + 'px';
						});

						// // Ocultar el tooltip cuando el ratón salga del evento
						eventEl.addEventListener('mouseleave', function() {
							document.getElementById('tooltip').style.display = 'none';
						});
					},
					// Nuevo: evento click en un evento
					eventClick: function(info) {
		// 
						var myModal = new bootstrap.Modal(document.getElementById('kt_modal_view_event'));
    					myModal.show();

						document.getElementById('kt_modal_view_event_edit').addEventListener('click', function() {														
    						window.location.href = "/proyect/view/" + info.event.extendedProps.p; // Combinar URL de Django con el ID
						});


						var eventDate = info.event.start;
							var formattedDate = moment(eventDate).format('MMMM D, YYYY [at] h:mm A'); 

						document.getElementById('tooltipTitleMd').textContent = info.event.title;
						document.getElementById('tooltipDescriptionMd').textContent = info.event.extendedProps.description;
						document.getElementById('tooltipDateMd').textContent = formattedDate;
						document.getElementById('id1').value = info.event.groupId;
						document.getElementById('id2').value = info.event.id;
						loadIC(info.event.groupId, info.event.id, 1);
					}


				})
	
				calendar.render();
				
				$.ajax({
					url: "{% url 'getDataCalendar_url' %}",  // URL de la vista AJAX
					method: "GET",  // El método de la solicitud (GET para obtener datos)
					success: function(response) {
						
						// Recorrer los proyectos devueltos en el JSON y agregarlos a la tabla
						response.calendar.forEach(function(agendy) {
							
							calendar.addEvent({
								id: agendy.id,
								groupId: agendy.w,
								title: agendy.title,
								start: agendy.start,
								description: agendy.description,
								color: agendy.color,
								extendedProps: {
									p: agendy.p,
								}
								
							});						
	
						});
					},
					error: function(xhr, status, error) {
						console.error("Error en la solicitud AJAX:", error);
					}
				
	
	
				});	
			}
		}

		
		$(document).ready(function() {	
			
			$('#kt_datatable').hide();
			
			setTimeout(function() {
				// Aquí simulas la respuesta del servidor. En un caso real, se actualizaría la tabla con los nuevos datos.
				// Por ejemplo, con AJAX, usarías algo como:
				// $.ajax({...});

				// Luego de recibir la respuesta, ocultamos el mensaje de carga y mostramos la tabla.
				$('#please_wait_message').hide();
				$('#kt_datatable').show();

				var table = $('#kt_datatable').DataTable({		
					"order": [[0, 'desc']],
					"language": {
						"emptyTable": "No results found."
					},		
				});

				$('#globalSearch').on('keyup change', function() {
					table.search(this.value).draw();  // Filtra la tabla con el valor del input
				});

			}, 1000); // Simulación de carga (2 segundos)


			$("#dateFrom").flatpickr({ enableTime: false, dateFormat: "m/d/Y" });
			$("#dateUntil").flatpickr({ enableTime: false, dateFormat: "m/d/Y" });
			
			loadCalendar();
									
			$("#reset").click(function() {
				$("#dateFrom").val("");
				$("#dateUntil").val("");
				$("#globalSearch").val("");
				$("#selectType").prop("selectedIndex", 0);
				$("#selectState").prop("selectedIndex", 0);
				$("#selectDecorator").prop("selectedIndex", 0);
			});


			const linksView = document.querySelectorAll(".a_proyectView");

			linksView.forEach(enlace => {
				const p = enlace.dataset.id1;
				const s = enlace.dataset.id2;
				enlace.addEventListener("click", (e) => {
					e.preventDefault(); // evita que el enlace recargue la página
					viewProyect(p,s);
				});
			});


			const linksEdit = document.querySelectorAll(".a_proyectEdit");

			linksEdit.forEach(enlace => {
				const s = enlace.dataset.id2;
				enlace.addEventListener("click", (e) => {
					e.preventDefault(); // evita que el enlace recargue la página
					editProyect(enlace,s);
				});
			});
					
        });


		function del_p(b,p){
						
			Swal.fire({
				title: 'Are you sure?',
				text: 'This action will delete the proyect for ever. Do you want to continue?',
				icon: 'warning',
				showCancelButton: true,  // Muestra el botón de cancelación
				confirmButtonText: 'Yes',
				cancelButtonText: 'Cancel'
			}).then((result) => {
				if (result.isConfirmed) {
					// Si el usuario confirma, se ejecuta la acción AJAX
					$.ajax({
						url: "{% url 'deleteProyect_url' %}",  // La URL que manejará la consulta AJAX
						method: 'POST',
						data: {
							'p': p  // El valor que se envía al servidor
						},
						beforeSend: function(xhr, settings) {
							// Añadir el token CSRF en las cabeceras
							var csrftoken = $('[name=csrfmiddlewaretoken]').val();
        					// Agregar el token CSRF al encabezado de la solicitud AJAX
        					xhr.setRequestHeader("X-CSRFToken", csrftoken);

						},
						success: function(response) {
							// Rellena los campos con los datos obtenidos de la respuesta
							if(response.result == "1"){											

								var row = b.parentNode.parentNode.parentNode;
								row.remove();


								Swal.fire({
									title: 'Deleted!',
									text: 'The proyect has been successfully deleted.',
									icon: 'info',
									confirmButtonText: 'Ok.'
								}).then((result) => {
									if (result.isConfirmed) {
										$("#proyectSearch").click();
									}
								});
							}																
						},
						error: function(xhr, status, error) {																
							Swal.fire({
									title: 'Error server!',
									text: error,
									icon: 'error',
									confirmButtonText: 'Ok.'
								});
			
						}
					});	
				}
			});
		}

		
		function loadIC(y, t, m){
			
			$.ajax({
				url: "{% url 'getDataComment_url' %}",  // La URL que manejará la consulta AJAX
				method: 'GET',
				data: {
					'id1': y,
					'id2': t,
					'id4': m,
				},		
				success: function(response) {
					$('#saveItemComment').html(response.result);
					initializeFlatpickr();		
				},
				error: function() {
					console.error("Error server: " + error, event.error);
				}
			});
			
		}


		function saveIR(w,i){
								
			var formData = new FormData();  // Creamos un objeto FormData vacío
			formData.append('id1', w);
			formData.append('id2', i);				
			// Serializamos los datos del formulario (excepto los archivos)
			var serializedData = $('#formItem_' + String(i)).serialize();
						
			// Convertimos los datos serializados en un objeto y lo agregamos al FormData
			var params = serializedData.split('&');
			params.forEach(function(param) {
				var keyValue = param.split('=');
				var key = decodeURIComponent(keyValue[0]);
				var value = decodeURIComponent(keyValue[1] || '');
				formData.append(key, value);
			});

			var inputFile = $('#formItem_' + String(i) + ' input[type="file"]')[0];  // Seleccionamos el input dentro de form1
			
			if (inputFile && inputFile.files.length > 0) {

				for (var i = 0; i < inputFile.files.length; i++) {
					formData.append('files[]', inputFile.files[i]); // Usamos '[]' para manejar múltiples archivos
				}
			}

			$.ajax({
				type: "POST",
				url: "{% url 'saveItemComment_url' %}",  // Reemplaza con la URL de tu vista
				data: formData,
				processData: false,  // Esto es importante para enviar archivos correctamente
				contentType: false,  // Evitar que jQuery configure el tipo de contenido automáticamente
				beforeSend: function(xhr, settings) {
					// Añadir el token CSRF en las cabeceras
					xhr.setRequestHeader('X-CSRFToken', $('meta[name="csrf-token"]').attr('content'));
				},
				success: function(response) {
					if(response.result = "OK"){								
						loadCalendar();
						$('#kt_modal_view_event').modal('hide');												
					}						
				},
				error: function() {
					console.error("Error server: " + error, event.error);
				}
			});


		}
		
		
		function initializeFlatpickr() {
			// Aplicar flatpickr a los inputs con la clase 'date-picker'
			$(".date-picker").flatpickr({
				enableTime: true, // Deshabilitar la selección de hora
				dateFormat: "Y-m-d H:i" // Establecer el formato de fecha
			});
		}


		function delImC(o,i,t,e){

			var p = $('#id1').val()				
			$.ajax({					
				url: "{% url 'deleteItemCommentFile_url' %}",  // La URL que manejará la consulta AJAX
				method: 'POST',
				data: {
					'i': i,
					't': t,
					'p': p,
					'e': e
				},
				beforeSend: function(xhr, settings) {
					// Añadir el token CSRF en las cabeceras
					xhr.setRequestHeader('X-CSRFToken', $('meta[name="csrf-token"]').attr('content'));
				},
				success: function(response) {
					// Rellena los campos con los datos obtenidos de la respuesta
					if(response.result == "1"){
						const pad = o.parentNode;
						pad.remove();
					}						
				},
				error: function(xhr, status, error) {																
					Swal.fire({
							title: 'Error server!',
							text: error,
							icon: 'error',
							confirmButtonText: 'Ok.'
						});

				}
			});	
		}


		function viewProyect(p,s){
			$("#divViewProyect").val("");
			$('#modalProyect').modal('show');			

			$.ajax({
				
				url: "{% url 'getSelectWOs_url' %}",  // La URL que manejará la consulta AJAX
				method: 'POST',
				data: {
					'p': p,
					's': s,
					'm': 2 // El valor que se envía al servidor
				},
				beforeSend: function(xhr, settings) {
					// Añadir el token CSRF en las cabeceras
					xhr.setRequestHeader('X-CSRFToken', $('meta[name="csrf-token"]').attr('content'));
				},
				success: function(response) {
					// Rellena los campos con los datos obtenidos de la respuesta
					$('#divViewProyect').html(response.result);
					$('.grid-gallery').masonry_gallery();			
					$('html, body').animate({ scrollTop: 0 }, 'fast');					
					showImgs();
				},
				error: function(xhr, status, error) {
					console.error("Error server: " + error, event.error);
				}
			});


		}


		function editProyect(t,s){
						
			$.ajax({
				
				url: "{% url 'saveSessionState_url' %}",  // La URL que manejará la consulta AJAX
				method: 'POST',
				data: {								
					's': s				
				},
				beforeSend: function(xhr, settings) {
					// Añadir el token CSRF en las cabeceras
					xhr.setRequestHeader('X-CSRFToken', $('meta[name="csrf-token"]').attr('content'));
				},
				success: function(response) {		
					if(response.result == "OK"){
						// 1. Obtener el <tr> contenedor
						const tr = $(t).closest('tr');
						// 2. Buscar el <a> dentro de ese <tr>
						const link = tr.find('.a_proyectOpen');
						// 3. Hacerle click
						link[0].click();  // o link.trigger('click');
					}						
				},
				error: function(xhr, status, error) {
					console.error("Error server: " + error, event.error);
				}
			});


		}


		function showImgs(){
			$('.showImg').each(function() {
				$(this).click();
			});
		}


	</script>

</body>
<!--end::Body-->

</html>
